# Helm values for local/kind cluster deployment
# Use with: helm install nginx-ingress ingress-nginx/ingress-nginx -f values-local.yaml

controller:
  # NodePort for kind/local (not LoadBalancer)
  service:
    type: NodePort
    nodePorts:
      http: 30080
      https: 30443

  # Allow snippet annotations (needed for some ingress configs)
  config:
    allow-snippet-annotations: "true"

  # Autoscaling configuration
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

  # Match kind node labels
  nodeSelector:
    ingress-ready: "true"

  # Tolerations for control plane nodes
  tolerations:
  - effect: NoSchedule
    key: node-role.kubernetes.io/master
    operator: Equal
  - effect: NoSchedule
    key: node-role.kubernetes.io/control-plane
    operator: Equal
